#include <iostream>   
#include <cmath>     
#include <iomanip>    // Для форматирования вывода

using namespace std;  

int main() {

    double start_x = 0.1;   // Начальное значение x (a)
    double end_x = 1.2;     // Конечное значение x (b)
    double step = 0.1;      // Шаг изменения x (h)
    int terms_count = 20;   // Количество членов ряда (n от 1 до 20)
    
    //ВЫЧИСЛЕНИЕ КОЛИЧЕСТВА ТОЧЕК В ТАБЛИЦЕ
    // Формула: количество точек = (конец - начало)/шаг + 1
    int points_count = (int)((end_x - start_x) / step) + 1;
    
    //ВЫВОД ЗАГОЛОВКА ТАБЛИЦЫ
    cout << "=================================" << endl;
    cout << "|    x     |        y(x)       |" << endl;
    cout << "=================================" << endl;
    
    //ГЛАВНЫЙ ЦИКЛ ВЫЧИСЛЕНИЙ
    // Цикл по точкам таблицы (от 0 до 11)
    for (int point_index = 0; point_index < points_count; point_index++) {
        //ВЫЧИСЛЕНИЕ ТЕКУЩЕГО ЗНАЧЕНИЯ x
        // Формула: x = начальное_значение + индекс_точки * шаг
        double current_x = start_x + point_index * step;
        
        //ИНИЦИАЛИЗАЦИЯ ПЕРЕМЕННОЙ ДЛЯ СУММЫ РЯДА
        double sum_y = 0.0;  
        
        //ВЛОЖЕННЫЙ ЦИКЛ ДЛЯ ВЫЧИСЛЕНИЯ СУММЫ РЯДА
        for (int n = 1; n <= terms_count; n++) {
            //ВЫЧИСЛЕНИЕ ЧИСЛИТЕЛЯ: 2n² + 1
            double numerator = 2.0 * n * n + 1.0;
            
            //ВЫЧИСЛЕНИЕ ЗНАМЕНАТЕЛЯ: 2n
            double denominator = 2.0 * n;
            
            //ВЫЧИСЛЕНИЕ ПОКАЗАТЕЛЯ СТЕПЕНИ: 2n-2
            int exponent = 2 * n - 2;
            
            //ВЫЧИСЛЕНИЕ СТЕПЕНИ x: x^(2n-2)
            double power = pow(current_x, exponent);
            
            //ВЫЧИСЛЕНИЕ ОДНОГО ЧЛЕНА РЯДА
            // Формула: (2n²+1)/(2n) * x^(2n-2)
            double term = (numerator / denominator) * power;
            
            // Суммируем все члены ряда
            sum_y += term;  
        }
        
        //ФОРМАТИРОВАННЫЙ ВЫВОД РЕЗУЛЬТАТА
        // Используем манипуляторы 
        
        //ВЫВОД ЛЕВОЙ ГРАНИЦЫ ТАБЛИЦЫ
        cout << "| ";
        
        //ВЫВОД ЗНАЧЕНИЯ x
        // setw(8) - задает ширину поля 8 символов
        // fixed - фиксирует вывод в десятичном формате 
        // setprecision(1) - выводить 1 знак после запятой для x
        cout << setw(8) << fixed << setprecision(1) << current_x;
        
        //ВЫВОД РАЗДЕЛИТЕЛЯ КОЛОНОК
        cout << " | ";
        
        //ВЫВОД ЗНАЧЕНИЯ y(x)
        // setw(15) - задает ширину поля 15 символов
        // setprecision(8) - выводить 8 знаков после запятой для y
        cout << setw(15) << fixed << setprecision(8) << sum_y;
        
        // ВЫВОД ПРАВОЙ ГРАНИЦЫ ТАБЛИЦЫ И ПЕРЕВОД СТРОКИ
        cout << " |" << endl;
    }
    
    //ВЫВОД НИЖНЕЙ ГРАНИЦЫ ТАБЛИЦЫ
    cout << "=================================" << endl;
    
    return 0;  
}
